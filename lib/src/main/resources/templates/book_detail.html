<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
  <head>
    <meta charset="UTF-8" />
    <title>Chi tiết sách</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body class="p-4">
    <div class="container">
      <a href="/books" class="btn btn-secondary mb-3">&larr; Quay lại</a>

      <!-- Thông tin sách với mô tả -->
      <div class="card mb-3">
        <div class="card-body">
          <h2 th:text="${book.title}">Tên sách</h2>
          <p>
            <strong>Tác giả:</strong> <span th:text="${book.author}"></span>
          </p>
          <p>
            <strong>Năm xuất bản:</strong> <span th:text="${book.year}"></span>
          </p>
          <p>
            <strong>Số lượng:</strong> <span th:text="${book.quantity}"></span>
          </p>
          <hr />
          <h5>Mô tả cơ bản</h5>
          <p th:text="${book.description}">Nội dung mô tả...</p>
        </div>
      </div>

      <!-- Đánh giá của độc giả -->
      <h4>Đánh giá của độc giả</h4>
      <div th:if="${#lists.isEmpty(reviews)}">Chưa có đánh giá nào.</div>
      <ul class="list-group mb-3" th:each="r : ${reviews}">
        <li class="list-group-item">
          <strong th:text="${r.reviewer}"></strong>:
          <span th:text="${r.content}"></span>
        </li>
      </ul>

      <!-- Form thêm đánh giá -->
      <h5>Thêm đánh giá mới</h5>
      <form th:action="@{/reviews/add}" method="post">
        <input type="hidden" name="bookId" th:value="${book.id}" />
        <div class="mb-2">
          <input
            type="text"
            class="form-control"
            name="reviewer"
            placeholder="Tên của bạn"
            required
          />
        </div>
        <div class="mb-2">
          <textarea
            class="form-control"
            name="content"
            placeholder="Viết đánh giá..."
            required
          ></textarea>
        </div>
        <button type="submit" class="btn btn-primary">Gửi đánh giá</button>
      </form>
    </div>
  </body>
</html>
